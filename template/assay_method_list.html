<!-- 本页面是给每种样品类型显示对应的默认检验方法 -->
<script>
function gt(){
	var jie=$("select[name='lxid']").val();
	window.location.href="xm_muban.php?lx="+jie;
}
</script>
<h3 class="header smaller center title">检验方法列表</h3>
<form method="GET" action="./assay_method_list_save.php"  name="myform">
<div class="widget-box no-border">
  <div class="widget-header header-color-blue4 center">
	<div class="widget-toolbar">
	<input name="fzx_id" type="hidden" value="$fzx_id" />
		水样类型:
		<select name="lxid" onchange='gotourl("./assay_method_list.php?lxid="+this.value);'>$lxlist</select>
		<a  href='javascript:gt();'>配置项目</a>
		项目名称:<select id="value_JC" class="chosen-select" style="width:150px;" onchange='gotourl("./assay_method_edit.php?lxid=$_GET[lxid]&xmid="+this.value);'><option value='全部'>全部</option>$valueOption</select> 
	</div>
  </div>
  <div class="widget-body">
	<table class="table table-striped table-bordered table-hover center">
		<thead>
			<tr>
				<th class="center" style="width:20%">项目名称(有提示“配置多个方法”)</th>
				<th class="center" style="width:35%">默认检验方法（这个地方是否需要加默认的其他信息）</th>
				<th class="center" style="width:15%">默认仪器</th>
				<th class="center" style="width:10%">默认人员</th>
				<th class="center" style="width:10%">默认人员2</th>
				<th class="center" style="width:10%">详细操作</th>
			</tr>
		</thead>
		<tbody>
			$yiyxm
		</tbody>
	</table>
  </div>
</div>
	<!-- <td style="color: rgb(0, 0, 255);" title="点击修改方法" onclick="modi('./assay_method_edit_save.php?fid=$r[id]&item=upfa&lxid=$r[lxid]&xmid=$r[xmid]&value=',' $xmname 的化验方法','$r[fangfa]');"> $r[fangfa]</td> -->
</form>
<script>
$(document).ready(function() {
	$(".chosen-select").chosen();});
/*根据 项目名称 筛选 项目
$("#value_JC").change(function(){
var value_JC=$("#value_JC").val();
if(value_JC=="全部")
{
	$("#tab tr").show();
}
else
{
	$("#tab tr:gt(1)").hide();
	$(".tr"+value_JC).show();
}
	
});	*/
</script>
<script>
/* JavaScript Document 
var XHR; //定义一个全局对象 
function createXHR(){ //首先我们得创建一个XMLHttpRequest对象 
	if(window.ActiveXObject){//IE的低版本系类 
		XHR=new ActiveXObject('Microsoft.XMLHTTP');//之前IE垄断了整个浏览器市场，没遵循W3C标准，所以就有了这句代码。。。但IE6之后开始有所改观 
	}else if(window.XMLHttpRequest){//非IE系列的浏览器，但包括IE7 IE8 
		XHR=new XMLHttpRequest(); 
	} 
} 
function checkname(){ 
	var xmname=document.myform.xmiid.value; 
	var lxid=document.myform.lxid.value;
	var fzx_id=document.myform.fzx_id.value;
	//alert(lxid);
	//alert(fzx_id);
	var url=/////////////////////////
	createXHR(); 
	XHR.open("GET","assay_method_list_save.php?id="+xmname+"&fzx_id="+fzx_id+"&lxid="+lxid,true);//true:表示异步传输，而不等send()方法返回结果，这正是ajax的核心思想 
	
	XHR.onreadystatechange=function (){
		var textHTML=XHR.responseText; 
		if(XHR.readyState == 4)
		{ 
			if(XHR.status==200)
			{
				alert(textHTML);
			}
		}
	};//当状态改变时，调用byhongfei这个方法，方法的内容我们另外定义 
	XHR.send(null); 
} 
function byhongfei(){ 
	if(XHR.readyState == 4){
		if(XHR.status == 200){ 
			
			
		} 
	} 
} */
function upuser(th){
	var value=th.value;
	var name=th.name; 
	var id=th.id; 
		var jie=$("select[name='lxid']").val();
		window.location.href="$rooturl/system_settings/assay_method/assay_method_list_save.php?value="+value+"&name="+name+"&id="+id+"&lxid="+jie;
		/*$.getJSON("$rooturl/system_settings/assay_method/assay_method_list_save.php?value="+value+"&name="+name+"&id="+id,function(json){ 
			if(json.zt=='成功'){
				alert('修改成功');
			}else{
			alert('修改失败');
			}
		});*/
	
}
</script>
